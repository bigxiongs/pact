!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Pact=t():e.Pact=t()}(this,()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Fragment:()=>Y,a:()=>ee,createContext:()=>G,createElement:()=>h,memo:()=>Q,render:()=>_,useCallback:()=>W,useContext:()=>H,useEffect:()=>R,useMemo:()=>$,useReducer:()=>X,useRef:()=>Z,useState:()=>J});const n=((e=[],t=(e,t)=>e-t)=>({push:n=>{const o=e.length;e.push(n),function(e,t,n,o){for(;n>0;){const r=n-1>>>1,c=e[r];if(!(o(t,c)<0))return;e[r]=t,e[n]=c,n=r}}(e,n,o,t)},peek:()=>0===e.length?null:e[0],pop:()=>{if(0===e.length)return null;const n=e[0],o=e.pop();return o!==n&&(e[0]=o,function(e,t,n,o){const r=e.length,c=r>>>1;for(;n<c;){const c=2*(n+1)-1,l=e[c],s=c+1,a=e[s];if(s<r&&o(a,l)<0&&o(a,t)<0)e[n]=a,e[s]=t,n=s;else{if(!(c<r&&o(l,t)<0))return;e[n]=l,e[c]=t,n=c}}}(e,o,0,t)),n},size:()=>e.length,isEmpty:()=>0===e.length,clear:()=>{e.length=0}}))([],(e,t)=>e.startTime!==t.startTime?e.startTime-t.startTime:e.priority-t.priority),o=[];let r,c=0;const l=()=>performance.now(),s=()=>l()>=c,a=e=>{const t=()=>o.splice(0,1).forEach(e=>e());return e?()=>setTimeout(t):()=>queueMicrotask(t)};let i=a(!1);const p=e=>{o.push(e)&&i()},u=(e,t={})=>{const{priority:o=d,delay:r=0}=t,c=l()+r;n.push({priority:o,startTime:c,...e}),p(f)},f=()=>{c=l()+5;let e=l();for(;(r=n.peek())&&!s()&&!(r.startTime>e);)r.canceled?n.pop():(r.callback=r.callback(),r.callback||n.pop(),e=l());r&&null!=r.callback&&(i=a(s()),p(f))},d=3;function h(e,t,...n){return{type:e,props:{...t,children:n.map(e=>"object"==typeof e?e:h("TEXT_ELEMENT",{nodeValue:e}))}}}const m=e=>e.startsWith("on"),y=e=>"children"!==e&&!m(e),b=(e,t)=>n=>e[n]!==t[n],k=(e,t)=>e=>!(e in t),g=e=>"ref"==e,E=e=>(e=JSON.parse(JSON.stringify(e)),Object.keys(e).forEach(t=>{let n=t.replace(/[A-Z]/g,e=>"-"+e.toLowerCase());n!==t&&(e[n]=e[t],delete e[t])}),Object.keys(e).map(t=>`${t}:${e[t]}; `).join(""));function T(e,t,n){Object.keys(t).filter(m).filter(e=>!(e in n)||b(t,n)(e)).forEach(n=>{const o=n.toLowerCase().substring(2);e.removeEventListener(o,t[n])}),Object.keys(t).filter(y).filter(k(t,n)).forEach(t=>{e[t]=""}),Object.keys(n).filter(y).filter(b(t,n)).forEach(t=>{"style"===t?e.style.cssText=E(n[t]):e[t]=n[t]}),Object.keys(n).filter(m).filter(b(t,n)).forEach(t=>{const o=t.toLowerCase().substring(2);e.addEventListener(o,n[t])}),Object.keys(n).filter(g).forEach(t=>{n[t].current=e})}let j=[],O=[];function x(e){if(!e)return;let t=e.parent;for(;!t.dom;)t=t.parent;const n=t.dom;"PLACEMENT"===e.effectTag&&null!=e.dom?n.appendChild(e.dom):"UPDATE"===e.effectTag&&null!=e.dom?T(e.dom,e.alternate.props,e.props):"DELETION"===e.effectTag&&v(e,n),x(e.child),x(e.sibling)}function v(e,t){e.dom?t.removeChild(e.dom):v(e.child,t)}function _(e,t){L={dom:t,props:{children:[e]},alternate:P},N=[],C=L,M.canceled=!1,u(M={callback:S,canceled:!1})}let C=null,P=null,L=null,N=null,M={callback:null,canceled:!0};function S(){for(;C&&!s();)C=V(C);return C?S:(N.forEach(x),x(L.child),O.forEach(e=>e()),O=j.map(e=>e()).filter(e=>"function"==typeof e),j=[],P=L,L=null,null)}const A=e=>e.type instanceof Function,w=e=>"context"in e,D=e=>"memoized"in e;function V(e){if(!D(e)&&(A(e)?function(e){q=e,z=0,q.hooks=[];const t=[e.type(e.props)].flat();F(e,t)}(e):function(e){e.dom||(e.dom=function(e){const t="TEXT_ELEMENT"==e.type?document.createTextNode(""):document.createElement(e.type);return T(t,{},e.props),t}(e)),F(e,e.props.children.flat())}(e),e.child))return e.child;let t=e;for(;t;){if(t.sibling)return t.sibling;t=t.parent}}let q=null,z=null;const U=e=>"compare"in e;function F(e,t){let n=0,o=e.alternate&&e.alternate.child,r=null;for(;n<t.length||null!=o;){const c=t[n];let l=null;const s=o&&c&&c.type==o.type,a=U(c);o&&c&&c.props.key&&o.props.key&&c.props.key==o.props.key?l={type:o.type,props:c.props,dom:o.dom,parent:e,alternate:o}:s?l={type:o.type,props:c.props,dom:o.dom,parent:e,alternate:o,effectTag:"UPDATE"}:c&&!s?l={type:c.type,props:c.props,dom:null,parent:e,alternate:null,effectTag:"PLACEMENT"}:o&&!s&&(o.effectTag="DELETION",N.push(o));const i={};if(w(e)&&(Object.assign(i,e.context),l.context=i),a&&"effectTag"in l&&"UPDATE"==l.effectTag){let e=!1;Object.keys(o.props).length!=Object.keys(l.props).length&&(e=!0);for(let t in o.props){if(e)break;!t in l.props?e=!0:c.compare(o.props[t],l.props[t])||(e=!0)}e||(delete l.effectTag,l.memoized=!0)}"effectTag"in l&&N.push(l),o&&(o=o.sibling),0===n?e.child=l:c&&(r.sibling=l),r=l,n++}}const I=(e=d)=>{L={dom:P.dom,props:P.props,alternate:P},C=L,N=[],u((M={callback:S,canceled:!1},{priority:e}))};function J(e){e="function"==typeof e?e():e;const t=q?.alternate?.hooks[z],n={state:t?t.state:e,queue:[]};return(t?t.queue:[]).forEach(e=>{n.state=e(n.state)}),q.hooks.push(n),z++,[n.state,e=>{const t="function"==typeof e?e:()=>e;n.queue.push(t),I()}]}function R(e,t){const n=q?.alternate?.hooks[z],o=!t||!n||t.some((e,t)=>e!==n.dependencies[t]),r={callback:o?e:n.callback,dependencies:o?t:n.dependencies};o&&j.push(r.callback),q.hooks.push(r),z++}function X(e,t){const n=q?.alternate?.hooks[z],o={state:n?n.state:t,dispatch:t=>{o.state=e(o.state,t),I()}};return q.hooks.push(o),z++,[o.state,o.dispatch]}function $(e,t){const n=q?.alternate?.hooks[z],o={deps:t||[],value:n?n.value:e()};return o.deps.some((e,t)=>e!==n?.deps[t])&&(o.value=e()),q.hooks.push(o),z++,o.value}function W(e,t){const n=q?.alternate?.hooks[z],o={callback:n?.callback?n.callback:e,deps:t||[]};return o.deps.some((e,t)=>e!==n?.deps[t])&&(o.callback=e),q.hooks.push(o),z++,o.callback}function Z(e){const t=q?.alternate?.hooks[z];if(t)return q.hooks.push(t),z++,t;const n={current:e};return q.hooks.push(n),z++,n}let B=0;function G(e){const t="__Ctx"+B++;return{_id:t,_defaultValue:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){const n={[t]:{_id:t,_defaultValue:e.value}};return"context"in this&&Object.assign(n,this.context),this.context=n,e.children}}}function H(e){return w(q)&&e._id in q.context?q.context[e._id]._defaultValue:e._defaultValue}const K=(e,t)=>e===t;function Q(e,t=K){return function(n){return{type:e,props:n,compare:t}}}function Y(e){return e.children}const ee=1;return t})());